# StreamerBot integration for RutonyChat

Данный набор скриптов позволяет вызывать любые действия в StreamerBot через:
- Удаленное управление
- Чат бот
- Обработчик событий донатов
- Обработчик событий повышения ранга
- Обработчик событий добавления лайка
- Обработчик событий репоста

## Установка

### Загрузка скриптов

Скопируйте все файлы из директории **scripts** и поместите в папку скриптов RutonyChat - **C:\Program Files (x86)\Steam\steamapps\common\RutonyChat\Scripts**

### Включение сервера StreamerBot

Запустите программу StreamerBot и выполните следующее:

1. Перейдите на вкладку Servers/Clients -> HTTP Server
2. Установите в поле порт значение **7474**
3. Поставьте галочку в пунтке **Auto Start**
4. Нажмите кнопку **Start Server**

## Использование интеграции

### Удаленное управление

> **Важно!** RutonyChat неправильно запускает скрипт удаленного управления при обработке донатов, поэтому такие случаи буду просто игнорироваться скриптом. Для того, чтобы вызвать действие StreamerBot по событию доната, обратитесь к инструкции "Обработчик донатов" далее в этом документе.

1. Убедитесь, что в StreamerBot у вас создано необходимое действие. Скопируйте его название.
2. В RutonyChat перейдите в меню **Удаленное управление**, добавьте новый обработчик, или откройте для редактирования существующий
3. Установите галочку в пункте **Выполнить скрипт** и выберите файл **streamer_bot_do_action.cs**
4. В поле **Параметры** вставьте название действия StreamerBot, скопированное в первом пункте
5. Не забудьте поставить галочку на **Включить**

#### Доступные аргументы

| Аргумент  | Описание                                                    |
| --------- | ----------------------------------------------------------- |
| `message` | Текст сообщения, если скрипт был вызван активацию по тексту |

### Чат бот

1. Убедитесь, что в StreamerBot у вас создано необходимое действие. Скопируйте его название.
2. В RutonyChat перейдите в меню **Бот** -> **Настройка бота**, добавьте новую команду, или откройте для редактирования существующую
3. Установите галочку в пункте **Запустить скрипт** и выберите файл **streamer_bot_do_action.cs**
4. В поле **Параметры** вставьте название действия StreamerBot, скопированное в первом пункте
5. Не забудьте поставить галочку на **Включить** и сохранить изменения в секции **Настройка бота**

#### Доступные аргументы

| Аргумент   | Описание                                               |
| ---------- | ------------------------------------------------------ |
| `site`     | Названия сервиса, в котором было обработанно сообщение |
| `user`     | Имя зрителя, вызвавшего обработку скрипта              |
| `userName` | Имя зрителя, вызвавшего обработку скрипта              |
| `message`  | Текст сообщения, отправленного зрителем                |

### Обработчик донатов

1. Убедитесь, что в StreamerBot у вас создано необходимое действие. Скопируйте его название.
2. В RutonyChat перейдите в меню **Удаленное управление** -> **Автономные скрипты**, добавьте новый скрипт и укажите произвольное название пресета
3. В поле **Скрипт** выберите файл **streamer_bot_handler_donation.cs**
4. В поле **Параметры** вставьте название действия StreamerBot, скопированное в первом пункте
5. Убедитесь, что стоит галочка у пункта **Разрешить события оповещений**
6. Не забудьте поставить галочку на **Включить**. Нажмите ОК
7. Для старта скрипта после редактирования нажмите кнопку **Переподключить**. Вы увидите сообщения о начале работы в окне RutonyChat

#### Доступные аргументы

| Аргумент   | Описание                                            |
| ---------- | --------------------------------------------------- |
| `site`     | Названия сервиса, через который был отправлен донат |
| `user`     | Имя зрителя, вызвавшего обработку скрипта           |
| `userName` | Имя зрителя, вызвавшего обработку скрипта           |
| `message`  | Текст сообщения, отправленного зрителем в донате    |
| `amount`   | Сумма поддержки                                     |
| `currency` | Валюта доната                                       |

### Обработчик лайков

1. Убедитесь, что в StreamerBot у вас создано необходимое действие. Скопируйте его название.
2. В RutonyChat перейдите в меню **Удаленное управление** -> **Автономные скрипты**, добавьте новый скрипт и укажите произвольное название пресета
3. В поле **Скрипт** выберите файл **streamer_bot_handler_like.cs**
4. В поле **Параметры** вставьте название действия StreamerBot, скопированное в первом пункте
5. Убедитесь, что стоит галочка у пункта **Разрешить события оповещений**
6. Не забудьте поставить галочку на **Включить**. Нажмите ОК
7. Для старта скрипта после редактирования нажмите кнопку **Переподключить**. Вы увидите сообщения о начале работы в окне RutonyChat

#### Доступные аргументы

| Аргумент   | Описание                                       |
| ---------- | ---------------------------------------------- |
| `site`     | Названия сервиса, в котором был поставлен лайк |
| `user`     | Имя зрителя, вызвавшего обработку скрипта      |
| `userName` | Имя зрителя, вызвавшего обработку скрипта      |                            

### Обработчик репостов

1. Убедитесь, что в StreamerBot у вас создано необходимое действие. Скопируйте его название.
2. В RutonyChat перейдите в меню **Удаленное управление** -> **Автономные скрипты**, добавьте новый скрипт и укажите произвольное название пресета
3. В поле **Скрипт** выберите файл **streamer_bot_handler_repost.cs**
4. В поле **Параметры** вставьте название действия StreamerBot, скопированное в первом пункте
5. Убедитесь, что стоит галочка у пункта **Разрешить события оповещений**
6. Не забудьте поставить галочку на **Включить**. Нажмите ОК
7. Для старта скрипта после редактирования нажмите кнопку **Переподключить**. Вы увидите сообщения о начале работы в окне RutonyChat

#### Доступные аргументы

| Аргумент   | Описание                                       |
| ---------- | ---------------------------------------------- |
| `site`     | Названия сервиса, в котором был выполнен репост |
| `user`     | Имя зрителя, вызвавшего обработку скрипта      |
| `userName` | Имя зрителя, вызвавшего обработку скрипта      |             

### Обработчик повышения ранга

1. Убедитесь, что в StreamerBot у вас создано необходимое действие. Скопируйте его название.
2. В RutonyChat перейдите в меню **Удаленное управление** -> **Автономные скрипты**, добавьте новый скрипт и укажите произвольное название пресета
3. В поле **Скрипт** выберите файл **streamer_bot_handler_rank_promote.cs**
4. В поле **Параметры** вставьте название действия StreamerBot, скопированное в первом пункте
5. Убедитесь, что стоит галочка у пункта **Разрешить события оповещений**
6. Не забудьте поставить галочку на **Включить**. Нажмите ОК
7. Для старта скрипта после редактирования нажмите кнопку **Переподключить**. Вы увидите сообщения о начале работы в окне RutonyChat

#### Доступные аргументы

| Аргумент   | Описание                                       |
| ---------- | ---------------------------------------------- |
| `site`     | Названия сервиса |
| `user`     | Имя зрителя, вызвавшего обработку скрипта      |
| `userName` | Имя зрителя, вызвавшего обработку скрипта      |   